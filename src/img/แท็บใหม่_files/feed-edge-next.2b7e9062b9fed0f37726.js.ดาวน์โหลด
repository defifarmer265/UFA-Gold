(window.webpackJsonp=window.webpackJsonp||[]).push([["feed-edge-next"],{FaCY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("G82u");class o{}o.followedTopics=new i.a("FollowedTopics"),o.followedTopicsFailed=new i.a("FollowedTopicsFailedSignature"),o.recommendedTopics=new i.a("RecommendedTopics"),o.recommendedTopicsFailed=new i.a("RecommendedTopicsFailed"),o.topic=new i.a("Topic"),o.topicFailed=new i.a("TopicsFailed"),o.topics=new i.a("Topics"),o.topicsFailed=new i.a("TopicsFailed"),o.topicGroup=new i.a("TopicGroup"),o.topicGroupFailed=new i.a("TopicGroupFailed"),o.updateTopicFollowedState=new i.a("UpdateTopicFollowedState"),o.updateTopicFollowedStateFailed=new i.a("UpdateTopicFollowedStateFailed")},Nt1x:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("G82u");class o{}o.contentRegionSizeChanged=new i.a("contentRegionSizeChanged")},srBb:function(e,t,n){"use strict";n.r(t),n.d(t,"FeedEdgeNext",(function(){return Oe})),n.d(t,"FeedEdgeNextConnector",(function(){return pe})),n.d(t,"FeedEdgeNextReducer",(function(){return me})),n.d(t,"FeedEdgeNextStickyConstants",(function(){return x})),n.d(t,"ToolingInfo",(function(){return Te}));var i,o=n("+viU"),s=n("4k19"),a=n("5mwN"),r=n("q/RY"),c=n("iX/D"),d=n("+Tyi");!function(e){e.belowTheFold="belowTheFold",e.breakingNews="c_brn",e.cardActions="c_cac",e.contentGrid="g_cnt",e.feed="p_feed",e.header="p_header",e.navGrid="g_nav",e.notificationBell="c_ntfbl",e.pivotsContent="c_pvc",e.pivotsNav="c_pvn",e.poweredBy="c_pwby",e.recommendedSites="c_rs",e.recommendedSitesGrid="g_rs",e.searchHistory="c_srchh",e.layoutSwitcher="c_ls"}(i||(i={}));var l=n("ERkP"),p=n.n(l),u=n("o1qX");let m,g,v,h,y,f,b,w,O;function T(e){window.requestAnimationFrame(()=>{const t=e&&e.length;for(let n=0;n<t;n++){e[n].isIntersecting?v.classList.remove(b):v.classList.add(b)}})}function k(e){window.requestAnimationFrame(()=>{const t=e&&e.length;for(let n=0;n<t;n++){const t=e[n];m===s.j.focused?t.isIntersecting?(v.classList.add(w),y.classList.add(w)):(v.classList.remove(w),y.classList.remove(w)):m===s.j.inspirational||m===s.j.custom?t.isIntersecting?(v.classList.remove(b),v.classList.add(w),y.classList.add(w)):(v.classList.remove(w),y.classList.remove(w),g&&v.classList.add(b)):m===s.j.informational&&(v.classList.add(w),y.classList.add(w))}})}const E={initialize:function(e,t,n,o,s){b=e,w=t,m=n,g=s,O=o,v=document.getElementById(i.feed),h=document.getElementById(i.navGrid),y=document.getElementById(i.header)},updateObserver:function(e,t){v||(v=document.getElementById(i.feed)),h||(h=document.getElementById(i.navGrid)),y||(y=document.getElementById(i.header)),m=e,g=t,y&&v&&h&&(f||function(){if(!window.IntersectionObserver)return;f=new window.IntersectionObserver(O?k:T,{root:null,rootMargin:"0px 0px -100px 0px",threshold:.5}),f.observe(h)}())},removeListeners:function(){f&&(f.unobserve(h),function(){f=null,O&&(v.classList.remove(w),y.classList.remove(w));v.classList.remove(b),v=null,h=null,y=null}())}};const j={initialize:function(e,t,n,i,o){E.initialize(e,t,n,i,o)},updateObservers:function(e,t,n){e?E.updateObserver(t,n):E.removeListeners()},removeListeners:function(){E.removeListeners()}};var C=n("3KaK"),L=n("AV1t"),S=n("0fst"),B=n("tacz"),F=n("Zn5T"),D=n("3Amp"),I=n("1aPi"),N=n("hWAW");const x={pivotsDistanceToTop:108,poweredByDistanceToTop:116,pivotsRowHeight:52};var G=n("3ZGc");let P,_,M,z,R,A,U,H,V,q,K;function W(){R.removeEventListener("click",J),R.removeEventListener("keydown",J)}function Y(){const e=Math.max(document.documentElement.scrollTop,document.body.scrollTop),t=z?parseInt(z.style.height):window.innerHeight,n=document.getElementById(i.recommendedSites),o=n?n.offsetHeight:0;if(P&&!U.state.stickyPivotsNav&&e-q-K>=t-x.pivotsDistanceToTop+o){P&&(P.style.left=Object(G.a)(P.getBoundingClientRect().left)),M&&(M.style.left=Object(G.a)(M.getBoundingClientRect().left)),_&&(_.style.left=Object(G.a)(_.getBoundingClientRect().left),_.style.top=Object(G.a)(x.poweredByDistanceToTop+_.offsetHeight/4));z&&z.offsetHeight!==t||U.setState({stickyPivotsNav:!0}),A&&(A.style.display="none")}else P&&U.state.stickyPivotsNav&&(e<=t-x.pivotsDistanceToTop+o?(U.setState({stickyPivotsNav:!1}),A&&A.style.removeProperty("display")):A&&("none"===A.style.display?0===e&&A.style.removeProperty("display"):A.style.display="none"))}function $(){Math.max(document.documentElement.scrollTop,document.body.scrollTop)<=(z?parseInt(z.style.height):window.innerHeight)-x.pivotsDistanceToTop&&(U.setState({stickyPivotsNav:!1}),A&&A.style.removeProperty("display"))}function J(){R.style.zIndex=String(S.a.Dialog);const e=t=>{R.contains(t.target)||(R.style.zIndex=null,document.removeEventListener("mouseup",e),z.removeEventListener("keydown",e))};document.addEventListener("mouseup",e),z.addEventListener("keydown",e)}const Z={initialize:function(e){P=document.getElementById(i.pivotsNav),_=document.getElementById(i.poweredBy),z=document.getElementById(i.header),A=document.getElementById(i.searchHistory),M=document.getElementById(i.notificationBell),q=Object(N.a)(),K=0,U=e,window.addEventListener("scroll",Y,{passive:!0}),H=Object(I.a)(Y,300,{leading:!1,trailing:!0}),window.addEventListener("resize",H),V=new MutationObserver(e=>{for(const t of e)"attributes"===t.type&&"style"===t.attributeName&&$()}),V.observe(z,{attributes:!0,attributeFilter:["style"]}),function(){L.a.hasExperienceRegistered(F.a.bannerManager)&&B.a.updateBannerHeight.registerObserver(e=>{K=e.params[0]});D.a.cookieConsentStatus.registerObserver(e=>{q=0})}()},updateManager:function(){R&&W(),R=document.getElementById(i.navGrid),R&&(R.addEventListener("click",J),R.addEventListener("keydown",J))},removeListeners:function(){window.removeEventListener("scroll",Y),window.removeEventListener("resize",H),W(),V&&V.disconnect()},verifyBreakpoints:Y};class X extends a.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},a.b),{currentBackgroundImageType:void 0,currentLayout:void 0,designSystem:void 0,domCompleteTrackingId:void 0,imageOfTheDayEnabled:void 0,isVisualSystemExperiment:void 0,layout:void 0,managedClasses:void 0,reportDomComplete:void 0,selectedFeedSetting:void 0}),this.state={stickyPivotsNav:!1}}componentDidMount(){super.componentDidMount(),this.navGridElement||(this.navGridElement=document.getElementById(i.navGrid)),Z.initialize(this),Z.updateManager(),Z.verifyBreakpoints(),j.initialize(this.props.managedClasses.transparentBackground,this.props.managedClasses.overrideBackgroundColor,this.props.currentLayout,this.props.isVisualSystemExperiment,this.props.imageOfTheDayEnabled),this.props.isVisualSystemExperiment&&!Object(C.e)()?(j.updateObservers(!0,this.props.currentLayout,this.props.imageOfTheDayEnabled),this.state.stickyPivotsNav&&this.navGridElement?this.navGridElement.classList.add(this.props.managedClasses.overrideBackgroundColor):this.navGridElement.classList.remove(this.props.managedClasses.overrideBackgroundColor)):j.updateObservers(this.props.selectedFeedSetting===s.f.headingsOnly&&this.props.currentBackgroundImageType!==s.a.off)}componentDidUpdate(e){super.componentDidUpdate(),e.selectedFeedSetting===s.f.off&&this.props.selectedFeedSetting!==s.f.off&&Z.updateManager(),this.props.isVisualSystemExperiment&&!Object(C.e)()?(e.currentLayout===this.props.currentLayout&&e.imageOfTheDayEnabled===this.props.imageOfTheDayEnabled||(j.removeListeners(),j.updateObservers(!0,this.props.currentLayout,this.props.imageOfTheDayEnabled)),this.state.stickyPivotsNav&&this.navGridElement?this.navGridElement.classList.add(this.props.managedClasses.overrideBackgroundColor):this.navGridElement.classList.remove(this.props.managedClasses.overrideBackgroundColor)):e.selectedFeedSetting===this.props.selectedFeedSetting&&e.currentBackgroundImageType===this.props.currentBackgroundImageType||j.updateObservers(this.props.selectedFeedSetting===s.f.headingsOnly&&this.props.currentBackgroundImageType!==s.a.off)}componentWillUnmount(){Z.removeListeners()}render(){return super.render(),this.styleLayout(this.layoutMapper(this.props.layout)),p.a.createElement(d.a,Object.assign({},this.props.layout,{className:this.generateClassNames(this.props.managedClasses.feed)}))}endDomCompleteMilestone(){this.props.reportDomComplete&&-1===this.domCompleteTracker.getEnd()&&Object(r.a)(this.props.domCompleteTrackingId,()=>{this.dependenciesDomComplete(this.domCompleteTracker,this.props.onExperienceMilestoneTimingUpdate)})}dependenciesDomComplete(e,t){e.setEnd(),t&&t(c.a.domComplete,void 0,e.getEnd())}layoutMapper(e){const t=new Map;if(e&&e.children){const n=e.children;if(n)for(let e=0;e<n.length;e++){const i=n[e];t[i.id]=i;const o=i.children;if(o)for(let e=0;e<o.length;e++){const n=o[e];t[n.id]=n}}}return t}styleLayout(e){if(e[i.pivotsNav]){const{managedClasses:t}=this.props;e[i.navGrid]&&(e[i.navGrid].className=Object(u.a)(t.navGrid,[t.sticky,this.state.stickyPivotsNav])),e[i.contentGrid]&&(e[i.contentGrid].className=Object(u.a)(t.contentGrid,[t.stickyPivotContent,this.state.stickyPivotsNav])),e[i.poweredBy]&&(e[i.poweredBy].className=t.poweredBy),e[i.notificationBell]&&(e[i.notificationBell].className=t.notificationBell),e[i.recommendedSitesGrid]&&(e[i.recommendedSitesGrid].className=t.recommendedSites),e[i.layoutSwitcher]&&(e[i.layoutSwitcher].className=t.layoutSwitcher)}}}X.defaultProps={experienceName:"FeedEdgeNext"};var Q=n("D57K"),ee=n("19qY"),te=n("Nt1x"),ne=n("eoyk"),ie=n("WfnD"),oe=n("s9+9"),se=n("G82u");class ae{}ae.layoutUpdated=new se.a("layoutUpdated");var re,ce=n("sRsp");(re||(re={})).inspect=function(e){const t=ce.a.inspect(e);return t.props=Object.assign(Object.assign({},t.props),e.config.styles),{props:{designSystem:e.config.designSystemOverrides,layout:t.props,selectedFeedSetting:e.state.selectedFeedSetting,currentBackgroundImageType:e.state.currentBackgroundImageType,currentLayout:e.state.currentLayout,imageOfTheDayEnabled:e.state.imageOfTheDayEnabled,isVisualSystemExperiment:e.config.isVisualSystemExperiment},missingChildren:t.missingChildren}};var de=n("FaCY"),le=n("PZnQ");class pe extends ie.a{constructor(e,t,n,i,o,s,a){if(super(e,t,n,i,o,s,a),this.reportDomComplete=!1,!s.enablePivotHoverList){const e=s.composition,t=e.page.children.findIndex(e=>"g_nav_hover"===e.id);t>=0&&e.page.children.splice(t,1)}this.layoutDataConnector=n.connector(oe.a.ChromiumPageSettings)||n.connector(oe.a.PageLayout)}mapStateToProps(e){if(e.selectedFeedSetting===s.f.off)return Object.assign(Object.assign({},e),{layout:null});const t={config:this.config,children:this.childComponentInstanceList,state:e},n=re.inspect(t);return Object.assign(Object.assign(Object.assign({},n.props),{reportDomComplete:this.reportDomComplete,domCompleteTrackingId:this.namespace}),this.telemetryTags)}onComponentConnect(e){return Object(Q.b)(this,void 0,void 0,(function*(){yield ie.a.prototype.onComponentConnect.call(this,e),this.childMap.forEach(e=>{Object(r.c)(this.namespace,{experienceNamespace:e.namespace,experienceType:e.experienceType})}),this.reportDomComplete=!0,ne.a.updateLayout.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;const n=t[0].selectedFeedDisplaySetting,i=t[0].currentBackgroundImageType,o=t[0].currentLayout,s=t[0].imageOfTheDayEnabled;ae.layoutUpdated.getActionSender(this).send(n,i,o,s)}),ee.a.layoutAnimationComplete.registerObserver(()=>this.onLayoutChange());const{selectedFeedDisplaySetting:t,currentBackgroundImageType:n,currentLayout:i,imageOfTheDayEnabled:o}=yield this.layoutDataConnector.getLayoutStateAsync();ae.layoutUpdated.getActionSender(this).send(t,n,i,o),de.a.updateTopicFollowedState.registerObserver(()=>Object(Q.b)(this,void 0,void 0,(function*(){t===s.f.headingsOnly&&Object(le.d)()})))}))}onLayoutChange(){return Object(Q.b)(this,void 0,void 0,(function*(){const{selectedFeedDisplaySetting:e}=yield this.layoutDataConnector.getLayoutStateAsync();e!==s.f.off&&te.a.contentRegionSizeChanged.getActionSender(this).send(),Z.verifyBreakpoints()}))}}var ue=n("05Au");class me{reduce(e,t){if(!e)return{selectedFeedSetting:s.f.headingsOnly,currentBackgroundImageType:s.a.bing,currentLayout:void 0,imageOfTheDayEnabled:void 0};if(!t)return e;let n,i=!1;return i=i||ue.a.handleAction(t,ae.layoutUpdated,(e,t,i,o)=>{n={selectedFeedSetting:e,currentBackgroundImageType:t,currentLayout:i,imageOfTheDayEnabled:o}}),n||e}}var ge=n("Jw3B"),ve=n("C8K2"),he=n("MF9s"),ye=n("objN");let fe=null,be=null;n("0dho").a.fiveColSupported()?(fe={[Object(ge.e)(null,ge.a.c2)]:{width:Object(G.a)(ve.c)},[Object(ge.f)(ge.a.c3)]:{width:Object(G.a)(ve.d)},[Object(ge.f)(ge.a.c4)]:{width:Object(G.a)(ve.e)},[Object(ge.e)(ge.a.c5,null)]:{width:Object(G.a)(ve.f)}},be={[Object(ge.e)(null,ge.a.c2)]:{width:Object(G.a)(ve.c)},[Object(ge.f)(ge.a.c3)]:{width:Object(G.a)(ve.d)},[Object(ge.f)(ge.a.c4)]:{width:Object(G.a)(ve.e)},[Object(ge.e)(ge.a.c5,null)]:{width:Object(G.a)(ve.f)}}):(fe={[Object(ge.e)(null,ge.a.c2)]:{width:Object(G.a)(ve.c)},[Object(ge.f)(ge.a.c3)]:{width:Object(G.a)(ve.d)},[Object(ge.e)(ge.a.c4,null)]:{width:Object(G.a)(ve.e)}},be={[Object(ge.e)(null,ge.a.c2)]:{width:Object(G.a)(ve.c)},[Object(ge.f)(ge.a.c3)]:{width:Object(G.a)(ve.d)},[Object(ge.e)(ge.a.c4,null)]:{width:Object(G.a)(ve.e)}});const we={contentGrid:fe,feed:{"justify-items":"center",transition:"background-color 0.3s cubic-bezier(.3, .2, .2, 1)",width:"100%"},navGrid:be,notificationBell:{"align-items":"center",display:"flex","justify-content":"center"},poweredBy:{"align-items":"center",display:"flex",height:"100%"},layoutSwitcher:{"align-self":"center"},recommendedSites:{width:"100%"},stickyPivotContent:{"margin-top":Object(G.a)(x.pivotsRowHeight)},sticky:{background:he.k,left:"50%",padding:"0 20%",position:"fixed",top:Object(G.a)(x.pivotsDistanceToTop),transform:"translate(-50%, 0)","z-index":""+(S.a.Nav+1)},transparentBackground:{"background-color":"rgba(0,0,0, 0.32)!important","& $notificationBell":{"& button":{fill:"white"}},"& $pivotsNav, $poweredBy, #p_feed, #c_pvc div div div":{background:"rgba(0,0,0,0)"},"& #pivotsNav, #c_pvc div div div":{"& span":{color:"white"}},"& $poweredBy":{"& span:not(:first-of-type)":{color:"white"}},"& #pivotsNav div > a":{"&:hover, :active":{background:"#404040"},"& svg":{fill:"white"}},"& #pivotsNav a > span > div":{[ye.D]:{background:"white"}},"& #pivotsNav span > div > a":{"&:hover, :active":{background:"#484848"}},"& #overflowList":Object.assign({"background-color":"#404040"},ye.w),"& #overflowBtnId":{"& button:active, & button:hover":{background:"#404040"},"& svg":{fill:"white"}}},overrideBackgroundColor:{background:"#FFFFFF !important"}},Oe=Object(o.a)(we)(X),Te={reactComponent:Oe,experienceConfigSchema:{},defaultMockState:{},mockState:[{key:"preview",value:{}}],mockConfig:{},inspector:e=>({props:{},missingChildren:[]})}}}]);